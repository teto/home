# list of options on :
# http://alot.readthedocs.org/en/latest/configuration/config_options.html

theme = "solarized_dark"
auto_remove_unread = True
ask_subject = False
#auto_replyto_mailinglist
# launch sequence of commands separated by ;
initial_command = search tag:inbox AND NOT tag:killed AND NOT tag:ietf ; 
# alot hooks
#hooksfile
input_timeout=0.3
# list of adresses
mailinglists = lisp@ietf.org, taps@ietf.org 
prefer_plaintext = True
#search_threads_sort_order
#terminal_cmd
#editor_spawn
#template_dir=
prompt_suffix = "ยง"

# notmuch related
# search.exclude_tags

# String prepended to line when quoting
quote_prefix = "> "

[bindings]
'ctrl f' = move halfpage down
'ctrl b' = move halfpage up
up = move up
down = move down
page up = move page up
page down = move page down
j = move down
k = move up
'g g' = move first
G = move last
' ' = move page down
'ctrl d' = move halfpage down
'ctrl u' = move halfpage up
@ = refresh
? = help bindings
I = search tag:inbox AND NOT tag:killed
't' = taglist
shift tab = bprevious
U = search tag:unread
tab = bnext
\ = prompt 'search '
d = bclose
$ = flush
m = compose
o = prompt 'search '
s l = prompt 'search tag:lisp'
#R = prompt 'refineprompt tag:unread'
q = exit
';' = bufferlist
':' = prompt
. = repeat

Q = call myhook

[tag]
   [[lisp]]
    fg=white
    translated = LISP

[bufferlist]
    x = close
    enter = open

[search]
    enter = select
    a = toggletags inbox
    & = toggletags killed
    ! = toggletags flagged
    s = toggletags unread
    l = retagprompt
    O = refineprompt
    | = refineprompt

[envelope]
    a = prompt 'attach ~/'
    y = send
    P = save
    s = 'refine Subject'
    f = prompt 'set From '
    t = 'refine To'
    b = 'refine Bcc'
    c = 'refine Cc'
    S = togglesign
    enter = edit
    'g f' = togglesource

[taglist]
# add possibility to mark tags or autocompletion in search ?
    enter = select

[thread]
    enter = select
    C = fold *
    E = unfold *
    c = fold
    e = unfold
    < = fold
    > = unfold
    'g f' = togglesource
    H = toggleheaders
    P = print --all --separately --add_tags
    S = save --all
    g = reply --all
    f = forward
    p = print --add_tags
    n = editnew
    b= bounce
    s = save
    r = reply
    | = prompt 'pipeto '

    'g j' = move next sibling
    'g k' = move previous sibling
    'g h' = move parent
    'g l' = move first reply
    ' ' = move next

[accounts]

[[iij]]
address = coudron@iij.ad.jp
realname = Matthieu Coudron
# signature_filename = ~/signature_pro.txt
# signature_as_attachment
# gpg_key = D7D6C5AA
# sign_by_default = false
# encrypt_by_default
sendmail_command = msmtp --account=pro -t


[[perso]]
realname = Matt
address = mattator@gmail.com
# aliases batman@batmobile.org,
#         sent_box = maildir:///home/bruce/mail/work/Sent
# draft_box = maildir:///home/bruce/mail/work/Drafts
# alias_regexp = b.wayne\+.+@wayneenterprises.com
# signature = ~/signature_perso.txt
# -t => will look for addresses into the mail
sendmail_command = msmtp --account=gmail -t
# or use notmuch one
# command = 'notmuch address --format=json --output=recipients date:1Y.. AND from:my@address.org'
# regexp = '\[?{"name": "(?P<name>.*)", "address": "(?P<email>.+)", "name-addr": ".*"}[,\]]?'
# shellcommand_external_filtering = False

	[[[abook]]]
	type = shellcommand
	command = khard email -s
	regexp = '^(?P<email>[^@]+@[^\t]+)\t+(?P<name>[^\t]+)'
	ignorecase = True
