# This example uses YAML anchors which allows reuse of multiple keys 
# without having to repeat yourself.
# Also see https://github.com/Mic92/dotfiles/blob/master/nixos/.sops.yaml
# for a more complex example.
# age-keygen -y ~/.config/sops/age/keys.txt to regenerate public key
keys:
  - &teto age18etpu3xwwsv87ysarwndzaxdv3dw7a7zzytxrhdc2gtls0cr0elsa79uc5
  # generated via ssh-to-age
  - &neotokyo age1t6hgvgv8gs8vhwch08zzvpc469r3zttmvnpudfuxmkqajdld7s5qv37dtu
creation_rules:
  - path_regex: hosts/neotokyo/secrets.yaml$
    key_groups:
    - age:
      - *neotokyo
      - *teto
  - path_regex: hosts/.*/secrets.yaml
    key_groups:
    - age:
      - *teto
